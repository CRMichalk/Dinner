<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Baseball Scoreboard</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    background: #f8f8f8;
    margin: 0;
    padding: 10px;
    text-align: center;
  }

  h1 {
    margin: 10px 0;
    font-size: 1.5em;
  }

  .score-summary {
    background: #222;
    color: #fff;
    border-radius: 8px;
    padding: 8px;
    margin-bottom: 10px;
  }

  .score-row {
    display: flex;
    justify-content: space-around;
    margin: 4px 0;
    position: relative;
  }

  .score-row div {
    flex: 1;
    position: relative;
  }

  .us-label {
    font-size: 0.7em;
    color: yellow;
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
  }

  .mini-stats {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 6px 0;
    font-size: 1em;
  }

  .mini-stats div {
    background: #444;
    color: #fff;
    padding: 4px 10px;
    border-radius: 6px;
    min-width: 60px;
  }

  .label {
    font-size: 0.9em;
    margin: 4px 0;
    color: #555;
  }

  .counter {
    display: flex;
    margin: 6px auto;
    max-width: 350px;
    height: 45px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    font-size: 1.2em;
  }

  .counter div {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
  }

  .counter .decrement {
    background: #eee;
  }

  .counter .value {
    background: #fff;
    font-weight: bold;
  }

  .counter .increment {
    background: #eee;
  }

  .counter div:active {
    background: #ddd;
  }

  button.reset {
    margin-top: 15px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background: #444;
    color: #fff;
    font-size: 1em;
    cursor: pointer;
  }

  button.reset:active {
    background: #666;
  }

  .radio-team {
    margin-bottom: 10px;
  }
</style>
</head>
<body>

<h1>Baseball Scoreboard</h1>

<div class="radio-team">
  <label><input type="radio" name="team" value="away" checked onchange="setTeam(this.value)"> Away</label>
  <label><input type="radio" name="team" value="home" onchange="setTeam(this.value)"> Home</label>
</div>

<div class="score-summary">
  <div class="score-row">
    <div>
      <span id="awayUs" class="us-label" style="display:none;">Us</span>
      Away: <span id="awayScore">0</span>
    </div>
    <div>Inning: <span id="inningNumber">1</span> <span id="inningHalf">Top</span></div>
    <div>
      <span id="homeUs" class="us-label" style="display:none;">Us</span>
      Home: <span id="homeScore">0</span>
    </div>
  </div>
  <div class="mini-stats">
    <div>B: <span id="ballsMini">0</span></div>
    <div>S: <span id="strikesMini">0</span></div>
    <div>O: <span id="outsMini">0</span></div>
  </div>
</div>

<div class="label">Balls</div>
<div class="counter">
  <div class="decrement" onclick="subtractBall()">-</div>
  <div class="value" id="ballsCount">0</div>
  <div class="increment" onclick="addBall()">+</div>
</div>

<div class="label">Strikes</div>
<div class="counter">
  <div class="decrement" onclick="subtractStrike()">-</div>
  <div class="value" id="strikesCount">0</div>
  <div class="increment" onclick="addStrike()">+</div>
</div>

<div class="label">Outs</div>
<div class="counter">
  <div class="decrement" onclick="subtractOut()">-</div>
  <div class="value" id="outsCount">0</div>
  <div class="increment" onclick="addOut()">+</div>
</div>

<div class="label">Away</div>
<div class="counter">
  <div class="decrement" onclick="subtractRun('away')">-</div>
  <div class="value" id="awayScoreControl">0</div>
  <div class="increment" onclick="addRun('away')">+</div>
</div>

<div class="label">Home</div>
<div class="counter">
  <div class="decrement" onclick="subtractRun('home')">-</div>
  <div class="value" id="homeScoreControl">0</div>
  <div class="increment" onclick="addRun('home')">+</div>
</div>

<div class="label">Inning</div>
<div class="counter">
  <div class="decrement" onclick="decrementInning()">-</div>
  <div class="value"><span id="inningNumberControl">1</span> <span id="inningHalfControl">Top</span></div>
  <div class="increment" onclick="incrementInning()">+</div>
</div>

<button class="reset" onclick="resetGame()">Reset Game</button>

<script>
let inningNumber = 1;
let inningHalf = 'Top';
let balls = 0;
let strikes = 0;
let outs = 0;
let runsAway = 0;
let runsHome = 0;
let team = 'away';

function saveState() {
  const state = { inningNumber, inningHalf, balls, strikes, outs, runsAway, runsHome, team };
  localStorage.setItem('scoreboardState', JSON.stringify(state));
}

function loadState() {
  const state = JSON.parse(localStorage.getItem('scoreboardState'));
  if (state) {
    inningNumber = state.inningNumber;
    inningHalf = state.inningHalf;
    balls = state.balls;
    strikes = state.strikes;
    outs = state.outs;
    runsAway = state.runsAway;
    runsHome = state.runsHome;
    team = state.team;
  }
}

function updateDisplay() {
  document.getElementById('inningNumber').textContent = inningNumber;
  document.getElementById('inningHalf').textContent = inningHalf;
  document.getElementById('inningNumberControl').textContent = inningNumber;
  document.getElementById('inningHalfControl').textContent = inningHalf;

  document.getElementById('ballsCount').textContent = balls;
  document.getElementById('strikesCount').textContent = strikes;
  document.getElementById('outsCount').textContent = outs;
  document.getElementById('awayScore').textContent = runsAway;
  document.getElementById('homeScore').textContent = runsHome;
  document.getElementById('awayScoreControl').textContent = runsAway;
  document.getElementById('homeScoreControl').textContent = runsHome;

  document.getElementById('ballsMini').textContent = balls;
  document.getElementById('strikesMini').textContent = strikes;
  document.getElementById('outsMini').textContent = outs;

  document.getElementById('awayUs').style.display = (team === 'away') ? 'block' : 'none';
  document.getElementById('homeUs').style.display = (team === 'home') ? 'block' : 'none';

  document.querySelector(`input[name="team"][value="${team}"]`).checked = true;

  saveState();
}

function addBall() { balls++; if (balls >= 4) resetCount(); updateDisplay(); }
function subtractBall() { if(balls>0) balls--; updateDisplay(); }

function addStrike() { strikes++; if (strikes >= 3) resetCount(); updateDisplay(); }
function subtractStrike() { if(strikes>0) strikes--; updateDisplay(); }

function addOut() { outs++; if (outs >= 3) { outs = 0; incrementInningHalf(); } resetCount(); updateDisplay(); }
function subtractOut() { if(outs>0) outs--; updateDisplay(); }

function addRun(teamName) { if(teamName==='away') runsAway++; if(teamName==='home') runsHome++; updateDisplay(); }
function subtractRun(teamName) { if(teamName==='away' && runsAway>0) runsAway--; if(teamName==='home' && runsHome>0) runsHome--; updateDisplay(); }

function incrementInningHalf() {
  inningHalf = (inningHalf === 'Top') ? 'Bottom' : 'Top';
  if (inningHalf === 'Top') inningNumber++;
  updateDisplay();
}

function incrementInning() {
  if (inningHalf === 'Top') { inningHalf = 'Bottom'; }
  else { inningHalf = 'Top'; inningNumber++; }
  updateDisplay();
}

function decrementInning() {
  if (inningHalf === 'Bottom') { inningHalf = 'Top'; }
  else { if (inningNumber > 1) { inningHalf = 'Bottom'; inningNumber--; } }
  updateDisplay();
}

function resetCount() { balls = 0; strikes = 0; }

function resetGame() {
  balls = strikes = outs = runsAway = runsHome = 0;
  inningNumber = 1;
  inningHalf = 'Top';
  team = 'away';
  updateDisplay();
}

function setTeam(selected) {
  team = selected;
  updateDisplay();
}

// Load saved state on startup
loadState();
updateDisplay();
</script>

</body>
</html>
